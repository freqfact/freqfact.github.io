---
import { Image } from 'astro:assets';
import logo from '../assets/logo.png';

const pathToTitle: Record<string, string> = {
    '/': 'FREQUENCY FACTORY',
    '/events': 'EVENTS',
    '/about': 'ABOUT',
    '/contact': 'CONTACT',
    '/links': 'LINKS'
};

const currentTitle = pathToTitle[Astro.url.pathname] || 'FREQUENCY FACTORY';
---
<header class="bg-transparent py-1">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center">
            <nav class="hidden md:flex space-x-12">
                <a href="/" class={`uppercase text-glow hover:text-yellow-400 text-xl py-4 px-6 transition-all ${Astro.url.pathname === "/" ? "text-yellow-400 font-bold" : "text-white"}`}>Home</a>
                <a href="/events" class={`uppercase text-glow hover:text-yellow-400 text-xl py-4 px-6 transition-all ${Astro.url.pathname === "/events" ? "text-yellow-400 font-bold" : "text-white"}`}>Events</a>
                <a href="/about" class={`uppercase text-glow hover:text-yellow-400 text-xl py-4 px-6 transition-all ${Astro.url.pathname === "/about" ? "text-yellow-400 font-bold" : "text-white"}`}>About</a>
                <a href="/links" class={`uppercase text-glow hover:text-yellow-400 text-xl py-4 px-6 transition-all ${Astro.url.pathname === "/links" ? "text-yellow-400 font-bold" : "text-white"}`}>Links</a>
            </nav>
            <div class="flex items-center gap-4">
                <h1 class="text-white text-xl font-bold uppercase text-glow">{currentTitle}</h1>
                <!-- <a href="/" class="text-2xl font-bold text-glow">
                    <Image 
                        src={logo} 
                        alt="Frequency Factory Logo" 
                        width={150} 
                        height={40} 
                        class="w-10 p-2 lg:block md:hidden hidden" 
                    />
                </a> -->
            </div>
            <div class="md:hidden">
                <button id="menu-toggle" class="text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
                <nav id="mobile-menu" class="hidden fixed top-12 left-0 right-0 bg-black bg-opacity-90 p-4">
                    <div class="flex flex-col space-y-4">
                        <a href="/" class={`text-white-600 hover:text-white-900 text-xl py-4 px-6 transition-colors ${Astro.url.pathname === "/" ? "text-yellow-400 font-bold" : ""}`}>HOME</a>
                        <a href="/events" class={`text-white-600 hover:text-white-900 text-xl py-4 px-6 transition-colors ${Astro.url.pathname === "/events" ? "text-yellow-400 font-bold" : ""}`}>EVENTS</a>
                        <a href="/about" class={`text-white-600 hover:text-white-900 text-xl py-4 px-6 transition-colors ${Astro.url.pathname === "/about" ? "text-yellow-400 font-bold" : ""}`}>ABOUT</a>
                        <a href="/links" class={`text-white-600 hover:text-white-900 text-xl py-4 px-6 transition-colors ${Astro.url.pathname === "/links" ? "text-yellow-400 font-bold" : ""}`}>LINKS</a>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</header>

<style>
    .text-glow {
        /* color: white; */
        text-shadow: 0 0 50px rgba(255, 255, 255, 0.5);
    }
    
</style>

<script>
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    menuToggle?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('hidden');
    });
</script>